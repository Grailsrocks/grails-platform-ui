<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>5 Recipes 1.0.RC1</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript" src="../css/shCore.js"></script>
    <script type="text/javascript" src="../css/shBrushXml.js"></script>
    <script type="text/javascript" src="../css/shBrushGroovy.js"></script>
    <link type="text/css" rel="stylesheet" href="../css/shCoreMidnight.css"/>
    <script type="text/javascript">
        SyntaxHighlighter.config.stripBrs = true;
        SyntaxHighlighter.defaults['smart-tabs'] = true;
        SyntaxHighlighter.all();
        function addJsClass() {
            var classes = document.body.className.split(" ");
            classes.push("js");
            document.body.className = classes.join(" ");
        }
    </script>
</head>

<body class="body" onload="addJsClass();">
<div id="navigation">
    <ul>
        <li>
            <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                <a href="../guide/index.html" class="button">Table of contents</a>

                <div id="nav-summary-childs" style="display:none;">
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/overview.html"><strong>1</strong><span>Overview</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/changelog.html"><strong>2</strong><span>Change Log</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/gettingStarted.html"><strong>3</strong><span>Getting Started</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/integratingPluginUi.html"><strong>4</strong><span>Making plugin UIs that integrate with apps</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/recipes.html"><strong>5</strong><span>Recipes</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/ui.html"><strong>6</strong><span>UI API</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/themes.html"><strong>7</strong><span>Themes API</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/creatingThemes.html"><strong>8</strong><span>Creating A Theme</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/creatingUiSets.html"><strong>9</strong><span>Creating Custom UI Sets</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/debugging.html"><strong>10</strong><span>Debugging - What the hell is going on?</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/advanced.html"><strong>11</strong><span>Doing advanced things</span></a>
                    </div>
                    
                </div>
            </div>
        </li>
        <li class="separator selected">
            <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
        </li>
    </ul>
</div>
<div id="header">
    <div class="images clearfix">
        
        
    </div>
    <p>APIs and Tags for Theming and Plugin UI integration</p>
</div>


<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="corner-all">

                
                <div class="toc-item prev-left"><a href="../guide/integratingPluginUi.html">&lt;&lt; <strong>4</strong><span>Making plugin UIs that integrate with apps</span></a></div>
                

                <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                
                <div class="toc-item next-right"><a href="../guide/ui.html"><strong>6</strong><span>UI API</span> >></a></div>
                


                <div class="project">
                    <h1>5 Recipes - Reference Documentation</h1>

                    <p><strong>Authors:</strong> Marc Palmer (marc@grailsrocks.com)</p>

                    <p><strong>Version:</strong> 1.0.RC1</p>

                    
                </div>

                
                <div id="table-of-content">
                    <h2>Table of Contents</h2>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#recipesSettingThemeAtRuntime"><strong>5.1</strong><span>Setting the theme at runtime</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#recipesRenderingComplexInputs"><strong>5.2</strong><span>Rendering complex inputs</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#recipesUIWithoutThemes"><strong>5.3</strong><span>Using UI Sets without Themes</span></a>
                    </div>
                    
                </div>
                

                

<h1 id="recipes">5 Recipes</h1>
These sections explain how to achieve some common functionality using the UI APIs.



<h2 id="recipesSettingThemeAtRuntime">5.1 Setting the theme at runtime</h2>
The current theme is determined on a per-request basis. If no theme is explicitly set, it will default to the theme specified in Config.<p class="paragraph"/>One use of this is to allow the user to select the look and feel of an application. You could also change the theme based on the current User Agent, or based on the Locale of the user for example.<p class="paragraph"/>You can call the <code>theme:set</code> tag from inside a controller or GSP:<p class="paragraph"/><pre class="brush: groovy;">&#10;&#60;theme:set name="mega"/&#62;&#10;</pre><p class="paragraph"/>You can also access the <code>grailsThemes</code> bean and set the theme per-request or per-session, from a service, filter or controller:<p class="paragraph"/><pre class="brush: groovy;">&#10;    // Set it once now and forget for the future requests&#10;    grailsThemes.setSessionTheme(request, "mega")&#10;&#10;    // Or just set it for this request&#10;    grailsThemes.setRequestTheme(request, themeNameFromUserPreferences)&#10;</pre>



<h2 id="recipesRenderingComplexInputs">5.2 Rendering complex inputs</h2>
Inputs in forms can sometimes deviate from the straight forward label plus widget pattern. Some forms require an alternative layout for some fields, aggregation of multiple fields into one visual group - say a "from" and "to" date that represent a period.<p class="paragraph"/>You can usually achieve this with UI Set tags by making use of the <code>ui:field</code> customisation tags <code>ui:fieldInput</code>, <code>ui:fieldErrors</code>, <code>ui:fieldLabel</code> and <code>ui:fieldHint</code>.<p class="paragraph"/>These allow you to use <code>ui:field</code> but replace the various components of a field (label, hint, errors, input) with your own markup - which can use other UI tags.<p class="paragraph"/>Say we needed to render two date fields using a single label for the two, to specify a date period:<p class="paragraph"/><pre class="brush: groovy;">&#10;&#60;ui:form&#62;&#10;    &#60;ui:field label="report.date.range"&#62;&#10;        &#60;ui:fieldInput&#62;&#10;            &#60;ui:input bean="$&#123;form&#125;" name="startDate"/&#62;&#10;            &amp;amp;&#10;            &#60;ui:input bean="$&#123;form&#125;" name="endDate"/&#62;&#10;        &#60;/ui:fieldInput&#62;&#10;    &#60;/ui:field&#62;&#10;&#60;/ui:form&#62;&#10;</pre><p class="paragraph"/>Because the <code>ui:input</code> tag does smart field rendering but without any decoration, you can reuse it here to render the fields.



<h2 id="recipesUIWithoutThemes">5.3 Using UI Sets without Themes</h2>
It is perfectly possible to use UI Sets without themes. You may not want to use the Theme layout system at all, but want to leverage the abstracted UI elements.<p class="paragraph"/>To do this you simply need to tell the UI API which UI Set to use for the current request. Normally this is inferred from the request's current Theme.<p class="paragraph"/>You can do this in a couple of ways. In Config you can set the UI Set to use:<p class="paragraph"/><pre class="brush: groovy;">&#10;plugin.platformUi.ui.set = 'myUISet'&#10;</pre><p class="paragraph"/>Alternatively you can set it at runtime e.g. in a tag, controller or filter using the grailsUISets bean:<p class="paragraph"/><pre class="brush: groovy;">&#10;grailsUISets.setRequestUISet(request, "myUISet")&#10;</pre><p class="paragraph"/><p class="paragraph"/>


                <div style="clear:both;margin-top:15px;"></div>
                
                <div class="toc-item prev-left"><a href="../guide/integratingPluginUi.html">&lt;&lt; <strong>4</strong><span>Making plugin UIs that integrate with apps</span></a></div>
                
                <div class="toc-item next-right"><a href="../guide/ui.html"><strong>6</strong><span>UI API</span> >></a></div>
                
                <div style="clear:both"></div>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Beans</h1><div class="menu-sub">
                        
                        
                        <div class="menu-item"><a href="../ref/Beans/grailsThemes.html">grailsThemes</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Beans/grailsUISets.html">grailsUISets</a>
                        </div>
                        
                    </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Scripts</h1><div class="menu-sub">
                        
                        
                        <div class="menu-item"><a href="../ref/Scripts/create-theme.html">create-theme</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Scripts/create-ui-set.html">create-ui-set</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Scripts/fork-theme.html">fork-theme</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Scripts/fork-ui-set.html">fork-ui-set</a>
                        </div>
                        
                    </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Theme Tags</h1><div class="menu-sub">
                        
                        
                        <div class="menu-item"><a href="../ref/Theme%20Tags/body.html">body</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Theme%20Tags/current.html">current</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Theme%20Tags/defaultContent.html">defaultContent</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Theme%20Tags/head.html">head</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Theme%20Tags/ifLayoutIs.html">ifLayoutIs</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Theme%20Tags/ifLayoutIsNot.html">ifLayoutIsNot</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Theme%20Tags/ifNoZoneContent.html">ifNoZoneContent</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Theme%20Tags/ifZoneContent.html">ifZoneContent</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Theme%20Tags/layout.html">layout</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Theme%20Tags/layoutHTMLTitle.html">layoutHTMLTitle</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Theme%20Tags/layoutTemplate.html">layoutTemplate</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Theme%20Tags/layoutTitle.html">layoutTitle</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Theme%20Tags/layoutZone.html">layoutZone</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Theme%20Tags/list.html">list</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Theme%20Tags/name.html">name</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Theme%20Tags/resources.html">resources</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Theme%20Tags/set.html">set</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Theme%20Tags/title.html">title</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Theme%20Tags/zone.html">zone</a>
                        </div>
                        
                    </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Ui Tags</h1><div class="menu-sub">
                        
                        
                        <div class="menu-item"><a href="../ref/Ui%20Tags/actions.html">actions</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Ui%20Tags/activeSets.html">activeSets</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Ui%20Tags/avatar.html">avatar</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Ui%20Tags/baseHeading.html">baseHeading</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Ui%20Tags/block.html">block</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Ui%20Tags/button.html">button</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Ui%20Tags/carousel.html">carousel</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Ui%20Tags/displayMessage.html">displayMessage</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Ui%20Tags/field.html">field</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Ui%20Tags/fieldErrors.html">fieldErrors</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Ui%20Tags/fieldGroup.html">fieldGroup</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Ui%20Tags/fieldHint.html">fieldHint</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Ui%20Tags/fieldInput.html">fieldInput</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Ui%20Tags/fieldLabel.html">fieldLabel</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Ui%20Tags/form.html">form</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Ui%20Tags/h1.html">h1</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Ui%20Tags/h2.html">h2</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Ui%20Tags/h3.html">h3</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Ui%20Tags/h4.html">h4</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Ui%20Tags/ifSetActive.html">ifSetActive</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Ui%20Tags/ifSetNotActive.html">ifSetNotActive</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Ui%20Tags/image.html">image</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Ui%20Tags/input.html">input</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Ui%20Tags/logo.html">logo</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Ui%20Tags/message.html">message</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Ui%20Tags/navigation.html">navigation</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Ui%20Tags/paginate.html">paginate</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Ui%20Tags/primaryNavigation.html">primaryNavigation</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Ui%20Tags/resources.html">resources</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Ui%20Tags/secondaryNavigation.html">secondaryNavigation</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Ui%20Tags/slide.html">slide</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Ui%20Tags/tab.html">tab</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Ui%20Tags/table.html">table</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Ui%20Tags/tabs.html">tabs</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Ui%20Tags/th.html">th</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Ui%20Tags/tr.html">tr</a>
                        </div>
                        
                    </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Ui Template Tags</h1><div class="menu-sub">
                        
                        
                        <div class="menu-item"><a href="../ref/Ui%20Template%20Tags/attributes.html">attributes</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Ui%20Template%20Tags/cssClass.html">cssClass</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Ui%20Template%20Tags/listSets.html">listSets</a>
                        </div>
                        
                    </div>
                    </div>
                    
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    2012 Marc Palmer
    Please contact the authors with any corrections or suggestions
</div>

<script type="text/javascript" src="../js/docs.js"></script>

</body>
</html>